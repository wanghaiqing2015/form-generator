{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\form-generator\\src\\views\\index\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\src\\views\\index\\Home.vue","mtime":1619541384247},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJwppbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJ3Rocm90dGxlLWRlYm91bmNlJwppbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJwppbXBvcnQgQ2xpcGJvYXJkSlMgZnJvbSAnY2xpcGJvYXJkJwppbXBvcnQgcmVuZGVyIGZyb20gJ0AvY29tcG9uZW50cy9yZW5kZXIvcmVuZGVyJwppbXBvcnQgRm9ybURyYXdlciBmcm9tICcuL0Zvcm1EcmF3ZXInCmltcG9ydCBKc29uRHJhd2VyIGZyb20gJy4vSnNvbkRyYXdlcicKaW1wb3J0IFJpZ2h0UGFuZWwgZnJvbSAnLi9SaWdodFBhbmVsJwppbXBvcnQgewogIGlucHV0Q29tcG9uZW50cywgc2VsZWN0Q29tcG9uZW50cywgbGF5b3V0Q29tcG9uZW50cywgZm9ybUNvbmYKfSBmcm9tICdAL2NvbXBvbmVudHMvZ2VuZXJhdG9yL2NvbmZpZycKaW1wb3J0IHsKICBleHBvcnREZWZhdWx0LCBiZWF1dGlmaWVyQ29uZiwgaXNOdW1iZXJTdHIsIHRpdGxlQ2FzZSwgZGVlcENsb25lLCBpc09iamVjdE9iamVjdAp9IGZyb20gJ0AvdXRpbHMvaW5kZXgnCmltcG9ydCB7CiAgbWFrZVVwSHRtbCwgdnVlVGVtcGxhdGUsIHZ1ZVNjcmlwdCwgY3NzU3R5bGUKfSBmcm9tICdAL2NvbXBvbmVudHMvZ2VuZXJhdG9yL2h0bWwnCmltcG9ydCB7IG1ha2VVcEpzIH0gZnJvbSAnQC9jb21wb25lbnRzL2dlbmVyYXRvci9qcycKaW1wb3J0IHsgbWFrZVVwQ3NzIH0gZnJvbSAnQC9jb21wb25lbnRzL2dlbmVyYXRvci9jc3MnCmltcG9ydCBkcmF3aW5nRGVmYWx1dCBmcm9tICdAL2NvbXBvbmVudHMvZ2VuZXJhdG9yL2RyYXdpbmdEZWZhbHV0JwppbXBvcnQgbG9nbyBmcm9tICdAL2Fzc2V0cy9sb2dvLnBuZycKaW1wb3J0IENvZGVUeXBlRGlhbG9nIGZyb20gJy4vQ29kZVR5cGVEaWFsb2cnCmltcG9ydCBEcmFnZ2FibGVJdGVtIGZyb20gJy4vRHJhZ2dhYmxlSXRlbScKaW1wb3J0IHsKICBnZXREcmF3aW5nTGlzdCwgc2F2ZURyYXdpbmdMaXN0LCBnZXRJZEdsb2JhbCwgc2F2ZUlkR2xvYmFsLCBnZXRGb3JtQ29uZgp9IGZyb20gJ0AvdXRpbHMvZGInCmltcG9ydCBsb2FkQmVhdXRpZmllciBmcm9tICdAL3V0aWxzL2xvYWRCZWF1dGlmaWVyJwoKbGV0IGJlYXV0aWZpZXIKY29uc3QgZW1wdHlBY3RpdmVEYXRhID0geyBzdHlsZToge30sIGF1dG9zaXplOiB7fSB9CmxldCBvbGRBY3RpdmVJZApsZXQgdGVtcEFjdGl2ZURhdGEKY29uc3QgZHJhd2luZ0xpc3RJbkRCID0gZ2V0RHJhd2luZ0xpc3QoKQpjb25zdCBmb3JtQ29uZkluREIgPSBnZXRGb3JtQ29uZigpCmNvbnN0IGlkR2xvYmFsID0gZ2V0SWRHbG9iYWwoKQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZSwKICAgIHJlbmRlciwKICAgIEZvcm1EcmF3ZXIsCiAgICBKc29uRHJhd2VyLAogICAgUmlnaHRQYW5lbCwKICAgIENvZGVUeXBlRGlhbG9nLAogICAgRHJhZ2dhYmxlSXRlbQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvZ28sCiAgICAgIGlkR2xvYmFsLAogICAgICBmb3JtQ29uZiwKICAgICAgaW5wdXRDb21wb25lbnRzLAogICAgICBzZWxlY3RDb21wb25lbnRzLAogICAgICBsYXlvdXRDb21wb25lbnRzLAogICAgICBsYWJlbFdpZHRoOiAxMDAsCiAgICAgIGRyYXdpbmdMaXN0OiBkcmF3aW5nRGVmYWx1dCwKICAgICAgZHJhd2luZ0RhdGE6IHt9LAogICAgICBhY3RpdmVJZDogZHJhd2luZ0RlZmFsdXRbMF0uZm9ybUlkLAogICAgICBkcmF3ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybURhdGE6IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAganNvbkRyYXdlclZpc2libGU6IGZhbHNlLAogICAgICBnZW5lcmF0ZUNvbmY6IG51bGwsCiAgICAgIHNob3dGaWxlTmFtZTogZmFsc2UsCiAgICAgIGFjdGl2ZURhdGE6IGRyYXdpbmdEZWZhbHV0WzBdLAogICAgICBzYXZlRHJhd2luZ0xpc3REZWJvdW5jZTogZGVib3VuY2UoMzQwLCBzYXZlRHJhd2luZ0xpc3QpLAogICAgICBzYXZlSWRHbG9iYWxEZWJvdW5jZTogZGVib3VuY2UoMzQwLCBzYXZlSWRHbG9iYWwpLAogICAgICBsZWZ0Q29tcG9uZW50czogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn6L6T5YWl5Z6L57uE5Lu2JywKICAgICAgICAgIGxpc3Q6IGlucHV0Q29tcG9uZW50cwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfpgInmi6nlnovnu4Tku7YnLAogICAgICAgICAgbGlzdDogc2VsZWN0Q29tcG9uZW50cwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfluIPlsYDlnovnu4Tku7YnLAogICAgICAgICAgbGlzdDogbGF5b3V0Q29tcG9uZW50cwogICAgICAgIH0KICAgICAgXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICB9LAogIHdhdGNoOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lcwogICAgJ2FjdGl2ZURhdGEuX19jb25maWdfXy5sYWJlbCc6IGZ1bmN0aW9uICh2YWwsIG9sZFZhbCkgewogICAgICBpZiAoCiAgICAgICAgdGhpcy5hY3RpdmVEYXRhLnBsYWNlaG9sZGVyID09PSB1bmRlZmluZWQKICAgICAgICB8fCAhdGhpcy5hY3RpdmVEYXRhLl9fY29uZmlnX18udGFnCiAgICAgICAgfHwgb2xkQWN0aXZlSWQgIT09IHRoaXMuYWN0aXZlSWQKICAgICAgKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy5hY3RpdmVEYXRhLnBsYWNlaG9sZGVyID0gdGhpcy5hY3RpdmVEYXRhLnBsYWNlaG9sZGVyLnJlcGxhY2Uob2xkVmFsLCAnJykgKyB2YWwKICAgIH0sCiAgICBhY3RpdmVJZDogewogICAgICBoYW5kbGVyKHZhbCkgewogICAgICAgIG9sZEFjdGl2ZUlkID0gdmFsCiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIGRyYXdpbmdMaXN0OiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5zYXZlRHJhd2luZ0xpc3REZWJvdW5jZSh2YWwpCiAgICAgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHRoaXMuaWRHbG9iYWwgPSAxMDAKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIGlkR2xvYmFsOiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5zYXZlSWRHbG9iYWxEZWJvdW5jZSh2YWwpCiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGRyYXdpbmdMaXN0SW5EQikgJiYgZHJhd2luZ0xpc3RJbkRCLmxlbmd0aCA+IDApIHsKICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IGRyYXdpbmdMaXN0SW5EQgogICAgfSBlbHNlIHsKICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IGRyYXdpbmdEZWZhbHV0CiAgICB9CiAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKHRoaXMuZHJhd2luZ0xpc3RbMF0pCiAgICBpZiAoZm9ybUNvbmZJbkRCKSB7CiAgICAgIHRoaXMuZm9ybUNvbmYgPSBmb3JtQ29uZkluREIKICAgIH0KICAgIGxvYWRCZWF1dGlmaWVyKGJ0ZiA9PiB7CiAgICAgIGJlYXV0aWZpZXIgPSBidGYKICAgIH0pCiAgICBjb25zdCBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkSlMoJyNjb3B5Tm9kZScsIHsKICAgICAgdGV4dDogdHJpZ2dlciA9PiB7CiAgICAgICAgY29uc3QgY29kZVN0ciA9IHRoaXMuZ2VuZXJhdGVDb2RlKCkKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgbWVzc2FnZTogJ+S7o+eggeW3suWkjeWItuWIsOWJquWIh+adv++8jOWPr+eymOi0tOOAgicsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KQogICAgICAgIHJldHVybiBjb2RlU3RyCiAgICAgIH0KICAgIH0pCiAgICBjbGlwYm9hcmQub24oJ2Vycm9yJywgZSA9PiB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S7o+eggeWkjeWItuWksei0pScpCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgc2V0T2JqZWN0VmFsdWVSZWR1Y2Uob2JqLCBzdHJLZXlzLCBkYXRhKSB7CiAgICAgIGNvbnN0IGFyciA9IHN0cktleXMuc3BsaXQoJy4nKQogICAgICBhcnIucmVkdWNlKChwcmUsIGl0ZW0sIGkpID0+IHsKICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PT0gaSArIDEpIHsKICAgICAgICAgIHByZVtpdGVtXSA9IGRhdGEKICAgICAgICB9IGVsc2UgaWYgKCFpc09iamVjdE9iamVjdChwcmVbaXRlbV0pKSB7CiAgICAgICAgICBwcmVbaXRlbV0gPSB7fQogICAgICAgIH0KICAgICAgICByZXR1cm4gcHJlW2l0ZW1dCiAgICAgIH0sIG9iaikKICAgIH0sCiAgICBzZXRSZXNwRGF0YShjb21wb25lbnQsIHJlc3ApIHsKICAgICAgY29uc3QgeyBkYXRhUGF0aCwgcmVuZGVyS2V5LCBkYXRhQ29uc3VtZXIgfSA9IGNvbXBvbmVudC5fX2NvbmZpZ19fCiAgICAgIGlmICghZGF0YVBhdGggfHwgIWRhdGFDb25zdW1lcikgcmV0dXJuCiAgICAgIGNvbnN0IHJlc3BEYXRhID0gZGF0YVBhdGguc3BsaXQoJy4nKS5yZWR1Y2UoKHByZSwgaXRlbSkgPT4gcHJlW2l0ZW1dLCByZXNwKQoKICAgICAgLy8g5bCG6K+35rGC5Zue5p2l55qE5pWw5o2u77yM6LWL5YC85Yiw5oyH5a6a5bGe5oCn44CCCiAgICAgIC8vIOS7pWVsLXRhYmVs5Li65L6L77yM5qC55o2uRWxlbWVudOaWh+aho++8jOW6lOivpeWwhuaVsOaNrui1i+WAvOe7mWVsLXRhYmVs55qEZGF0YeWxnuaAp++8jOaJgOS7pWRhdGFDb25zdW1lcueahOWAvOW6lOS4uidkYXRhJzsKICAgICAgLy8g5q2k5pe26LWL5YC85Luj56CB5Y+v5YaZ5oiQIGNvbXBvbmVudFtkYXRhQ29uc3VtZXJdID0gcmVzcERhdGHvvJsKICAgICAgLy8g5L2G5Li65pSv5oyB5pu05rex5bGC57qn55qE6LWL5YC877yI5aaC77yaZGF0YUNvbnN1bWVy55qE5YC85Li6J29wdGlvbnMuZGF0YSfvvIks5L2/55Soc2V0T2JqZWN0VmFsdWVSZWR1Y2UKICAgICAgdGhpcy5zZXRPYmplY3RWYWx1ZVJlZHVjZShjb21wb25lbnQsIGRhdGFDb25zdW1lciwgcmVzcERhdGEpCiAgICAgIGNvbnN0IGkgPSB0aGlzLmRyYXdpbmdMaXN0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uX19jb25maWdfXy5yZW5kZXJLZXkgPT09IHJlbmRlcktleSkKICAgICAgaWYgKGkgPiAtMSkgdGhpcy4kc2V0KHRoaXMuZHJhd2luZ0xpc3QsIGksIGNvbXBvbmVudCkKICAgIH0sCiAgICBmZXRjaERhdGEoY29tcG9uZW50KSB7CiAgICAgIGNvbnN0IHsgZGF0YVR5cGUsIG1ldGhvZCwgdXJsIH0gPSBjb21wb25lbnQuX19jb25maWdfXwogICAgICBpZiAoZGF0YVR5cGUgPT09ICdkeW5hbWljJyAmJiBtZXRob2QgJiYgdXJsKSB7CiAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGNvbXBvbmVudCwgdHJ1ZSkKICAgICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgICBtZXRob2QsCiAgICAgICAgICB1cmwKICAgICAgICB9KS50aGVuKHJlc3AgPT4gewogICAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGNvbXBvbmVudCwgZmFsc2UpCiAgICAgICAgICB0aGlzLnNldFJlc3BEYXRhKGNvbXBvbmVudCwgcmVzcC5kYXRhKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBzZXRMb2FkaW5nKGNvbXBvbmVudCwgdmFsKSB7CiAgICAgIGNvbnN0IHsgZGlyZWN0aXZlcyB9ID0gY29tcG9uZW50CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRpcmVjdGl2ZXMpKSB7CiAgICAgICAgY29uc3QgdCA9IGRpcmVjdGl2ZXMuZmluZChkID0+IGQubmFtZSA9PT0gJ2xvYWRpbmcnKQogICAgICAgIGlmICh0KSB0LnZhbHVlID0gdmFsCiAgICAgIH0KICAgIH0sCiAgICBhY3RpdmVGb3JtSXRlbShjdXJyZW50SXRlbSkgewogICAgICB0aGlzLmFjdGl2ZURhdGEgPSBjdXJyZW50SXRlbQogICAgICB0aGlzLmFjdGl2ZUlkID0gY3VycmVudEl0ZW0uX19jb25maWdfXy5mb3JtSWQKICAgIH0sCiAgICBvbkVuZChvYmopIHsKICAgICAgaWYgKG9iai5mcm9tICE9PSBvYmoudG8pIHsKICAgICAgICB0aGlzLmZldGNoRGF0YSh0ZW1wQWN0aXZlRGF0YSkKICAgICAgICB0aGlzLmFjdGl2ZURhdGEgPSB0ZW1wQWN0aXZlRGF0YQogICAgICAgIHRoaXMuYWN0aXZlSWQgPSB0aGlzLmlkR2xvYmFsCiAgICAgIH0KICAgIH0sCiAgICBhZGRDb21wb25lbnQoaXRlbSkgewogICAgICBjb25zdCBjbG9uZSA9IHRoaXMuY2xvbmVDb21wb25lbnQoaXRlbSkKICAgICAgdGhpcy5mZXRjaERhdGEoY2xvbmUpCiAgICAgIHRoaXMuZHJhd2luZ0xpc3QucHVzaChjbG9uZSkKICAgICAgdGhpcy5hY3RpdmVGb3JtSXRlbShjbG9uZSkKICAgIH0sCiAgICBjbG9uZUNvbXBvbmVudChvcmlnaW4pIHsKICAgICAgY29uc3QgY2xvbmUgPSBkZWVwQ2xvbmUob3JpZ2luKQogICAgICBjb25zdCBjb25maWcgPSBjbG9uZS5fX2NvbmZpZ19fCiAgICAgIGNvbmZpZy5zcGFuID0gdGhpcy5mb3JtQ29uZi5zcGFuIC8vIOeUn+aIkOS7o+eggeaXtu+8jOS8muagueaNrnNwYW7lgZrnsr7nroDliKTmlq0KICAgICAgdGhpcy5jcmVhdGVJZEFuZEtleShjbG9uZSkKICAgICAgY2xvbmUucGxhY2Vob2xkZXIgIT09IHVuZGVmaW5lZCAmJiAoY2xvbmUucGxhY2Vob2xkZXIgKz0gY29uZmlnLmxhYmVsKQogICAgICB0ZW1wQWN0aXZlRGF0YSA9IGNsb25lCiAgICAgIHJldHVybiB0ZW1wQWN0aXZlRGF0YQogICAgfSwKICAgIGNyZWF0ZUlkQW5kS2V5KGl0ZW0pIHsKICAgICAgY29uc3QgY29uZmlnID0gaXRlbS5fX2NvbmZpZ19fCiAgICAgIGNvbmZpZy5mb3JtSWQgPSArK3RoaXMuaWRHbG9iYWwKICAgICAgY29uZmlnLnJlbmRlcktleSA9IGAke2NvbmZpZy5mb3JtSWR9JHsrbmV3IERhdGUoKX1gIC8vIOaUueWPmHJlbmRlcktleeWQjuWPr+S7peWunueOsOW8uuWItuabtOaWsOe7hOS7tgogICAgICBpZiAoY29uZmlnLmxheW91dCA9PT0gJ2NvbEZvcm1JdGVtJykgewogICAgICAgIGl0ZW0uX192TW9kZWxfXyA9IGBmaWVsZCR7dGhpcy5pZEdsb2JhbH1gCiAgICAgIH0gZWxzZSBpZiAoY29uZmlnLmxheW91dCA9PT0gJ3Jvd0Zvcm1JdGVtJykgewogICAgICAgIGNvbmZpZy5jb21wb25lbnROYW1lID0gYHJvdyR7dGhpcy5pZEdsb2JhbH1gCiAgICAgICAgIUFycmF5LmlzQXJyYXkoY29uZmlnLmNoaWxkcmVuKSAmJiAoY29uZmlnLmNoaWxkcmVuID0gW10pCiAgICAgICAgZGVsZXRlIGNvbmZpZy5sYWJlbCAvLyByb3dGb3JtSXRlbeaXoOmcgOmFjee9rmxhYmVs5bGe5oCnCiAgICAgIH0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLmNoaWxkcmVuKSkgewogICAgICAgIGNvbmZpZy5jaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbi5tYXAoY2hpbGRJdGVtID0+IHRoaXMuY3JlYXRlSWRBbmRLZXkoY2hpbGRJdGVtKSkKICAgICAgfQogICAgICByZXR1cm4gaXRlbQogICAgfSwKICAgIEFzc2VtYmxlRm9ybURhdGEoKSB7CiAgICAgIHRoaXMuZm9ybURhdGEgPSB7CiAgICAgICAgZmllbGRzOiBkZWVwQ2xvbmUodGhpcy5kcmF3aW5nTGlzdCksCiAgICAgICAgLi4udGhpcy5mb3JtQ29uZgogICAgICB9CiAgICB9LAogICAgZ2VuZXJhdGUoZGF0YSkgewogICAgICBjb25zdCBmdW5jID0gdGhpc1tgZXhlYyR7dGl0bGVDYXNlKHRoaXMub3BlcmF0aW9uVHlwZSl9YF0KICAgICAgdGhpcy5nZW5lcmF0ZUNvbmYgPSBkYXRhCiAgICAgIGZ1bmMgJiYgZnVuYyhkYXRhKQogICAgfSwKICAgIGV4ZWNSdW4oZGF0YSkgewogICAgICB0aGlzLkFzc2VtYmxlRm9ybURhdGEoKQogICAgICB0aGlzLmRyYXdlclZpc2libGUgPSB0cnVlCiAgICB9LAogICAgZXhlY0Rvd25sb2FkKGRhdGEpIHsKICAgICAgY29uc3QgY29kZVN0ciA9IHRoaXMuZ2VuZXJhdGVDb2RlKCkKICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjb2RlU3RyXSwgeyB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JyB9KQogICAgICBzYXZlQXMoYmxvYiwgZGF0YS5maWxlTmFtZSkKICAgIH0sCiAgICBleGVjQ29weShkYXRhKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3B5Tm9kZScpLmNsaWNrKCkKICAgIH0sCiAgICBlbXB0eSgpIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5riF56m65omA5pyJ57uE5Lu25ZCX77yfJywgJ+aPkOekuicsIHsgdHlwZTogJ3dhcm5pbmcnIH0pLnRoZW4oCiAgICAgICAgKCkgPT4gewogICAgICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IFtdCiAgICAgICAgICB0aGlzLmlkR2xvYmFsID0gMTAwCiAgICAgICAgfQogICAgICApCiAgICB9LAogICAgZHJhd2luZ0l0ZW1Db3B5KGl0ZW0sIGxpc3QpIHsKICAgICAgbGV0IGNsb25lID0gZGVlcENsb25lKGl0ZW0pCiAgICAgIGNsb25lID0gdGhpcy5jcmVhdGVJZEFuZEtleShjbG9uZSkKICAgICAgbGlzdC5wdXNoKGNsb25lKQogICAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKGNsb25lKQogICAgfSwKICAgIGRyYXdpbmdJdGVtRGVsZXRlKGluZGV4LCBsaXN0KSB7CiAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5kcmF3aW5nTGlzdC5sZW5ndGgKICAgICAgICBpZiAobGVuKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKHRoaXMuZHJhd2luZ0xpc3RbbGVuIC0gMV0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGdlbmVyYXRlQ29kZSgpIHsKICAgICAgY29uc3QgeyB0eXBlIH0gPSB0aGlzLmdlbmVyYXRlQ29uZgogICAgICB0aGlzLkFzc2VtYmxlRm9ybURhdGEoKQogICAgICBjb25zdCBzY3JpcHQgPSB2dWVTY3JpcHQobWFrZVVwSnModGhpcy5mb3JtRGF0YSwgdHlwZSkpCiAgICAgIGNvbnN0IGh0bWwgPSB2dWVUZW1wbGF0ZShtYWtlVXBIdG1sKHRoaXMuZm9ybURhdGEsIHR5cGUpKQogICAgICBjb25zdCBjc3MgPSBjc3NTdHlsZShtYWtlVXBDc3ModGhpcy5mb3JtRGF0YSkpCiAgICAgIHJldHVybiBiZWF1dGlmaWVyLmh0bWwoaHRtbCArIHNjcmlwdCArIGNzcywgYmVhdXRpZmllckNvbmYuaHRtbCkKICAgIH0sCiAgICBzaG93SnNvbigpIHsKICAgICAgdGhpcy5Bc3NlbWJsZUZvcm1EYXRhKCkKICAgICAgdGhpcy5qc29uRHJhd2VyVmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBkb3dubG9hZCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IHRydWUKICAgICAgdGhpcy5vcGVyYXRpb25UeXBlID0gJ2Rvd25sb2FkJwogICAgfSwKICAgIHJ1bigpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IGZhbHNlCiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICdydW4nCiAgICB9LAogICAgY29weSgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLnNob3dGaWxlTmFtZSA9IGZhbHNlCiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICdjb3B5JwogICAgfSwKICAgIHRhZ0NoYW5nZShuZXdUYWcpIHsKICAgICAgbmV3VGFnID0gdGhpcy5jbG9uZUNvbXBvbmVudChuZXdUYWcpCiAgICAgIGNvbnN0IGNvbmZpZyA9IG5ld1RhZy5fX2NvbmZpZ19fCiAgICAgIG5ld1RhZy5fX3ZNb2RlbF9fID0gdGhpcy5hY3RpdmVEYXRhLl9fdk1vZGVsX18KICAgICAgY29uZmlnLmZvcm1JZCA9IHRoaXMuYWN0aXZlSWQKICAgICAgY29uZmlnLnNwYW4gPSB0aGlzLmFjdGl2ZURhdGEuX19jb25maWdfXy5zcGFuCiAgICAgIHRoaXMuYWN0aXZlRGF0YS5fX2NvbmZpZ19fLnRhZyA9IGNvbmZpZy50YWcKICAgICAgdGhpcy5hY3RpdmVEYXRhLl9fY29uZmlnX18udGFnSWNvbiA9IGNvbmZpZy50YWdJY29uCiAgICAgIHRoaXMuYWN0aXZlRGF0YS5fX2NvbmZpZ19fLmRvY3VtZW50ID0gY29uZmlnLmRvY3VtZW50CiAgICAgIGlmICh0eXBlb2YgdGhpcy5hY3RpdmVEYXRhLl9fY29uZmlnX18uZGVmYXVsdFZhbHVlID09PSB0eXBlb2YgY29uZmlnLmRlZmF1bHRWYWx1ZSkgewogICAgICAgIGNvbmZpZy5kZWZhdWx0VmFsdWUgPSB0aGlzLmFjdGl2ZURhdGEuX19jb25maWdfXy5kZWZhdWx0VmFsdWUKICAgICAgfQogICAgICBPYmplY3Qua2V5cyhuZXdUYWcpLmZvckVhY2goa2V5ID0+IHsKICAgICAgICBpZiAodGhpcy5hY3RpdmVEYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgbmV3VGFnW2tleV0gPSB0aGlzLmFjdGl2ZURhdGFba2V5XQogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5hY3RpdmVEYXRhID0gbmV3VGFnCiAgICAgIHRoaXMudXBkYXRlRHJhd2luZ0xpc3QobmV3VGFnLCB0aGlzLmRyYXdpbmdMaXN0KQogICAgfSwKICAgIHVwZGF0ZURyYXdpbmdMaXN0KG5ld1RhZywgbGlzdCkgewogICAgICBjb25zdCBpbmRleCA9IGxpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5fX2NvbmZpZ19fLmZvcm1JZCA9PT0gdGhpcy5hY3RpdmVJZCkKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSwgbmV3VGFnKQogICAgICB9IGVsc2UgewogICAgICAgIGxpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0uX19jb25maWdfXy5jaGlsZHJlbikpIHRoaXMudXBkYXRlRHJhd2luZ0xpc3QobmV3VGFnLCBpdGVtLl9fY29uZmlnX18uY2hpbGRyZW4pCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIHJlZnJlc2hKc29uKGRhdGEpIHsKICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IGRlZXBDbG9uZShkYXRhLmZpZWxkcykKICAgICAgZGVsZXRlIGRhdGEuZmllbGRzCiAgICAgIHRoaXMuZm9ybUNvbmYgPSBkYXRhCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/index","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"left-board\">\n      <div class=\"logo-wrapper\">\n        <div class=\"logo\">\n          <img :src=\"logo\" alt=\"logo\"> Form Generator\n          <a class=\"github\" href=\"https://github.com/JakHuang/form-generator\" target=\"_blank\">\n            <img src=\"static/pinned-octocat.svg\" alt>\n          </a>\n        </div>\n      </div>\n      <el-scrollbar class=\"left-scrollbar\">\n        <div class=\"components-list\">\n          <div v-for=\"(item, listIndex) in leftComponents\" :key=\"listIndex\">\n            <div class=\"components-title\">\n              <svg-icon icon-class=\"component\" />\n              {{ item.title }}\n            </div>\n            <draggable\n              class=\"components-draggable\"\n              :list=\"item.list\"\n              :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n              :clone=\"cloneComponent\"\n              draggable=\".components-item\"\n              :sort=\"false\"\n              @end=\"onEnd\"\n            >\n              <div\n                v-for=\"(element, index) in item.list\"\n                :key=\"index\"\n                class=\"components-item\"\n                @click=\"addComponent(element)\"\n              >\n                <div class=\"components-body\">\n                  <svg-icon :icon-class=\"element.__config__.tagIcon\" />\n                  {{ element.__config__.label }}\n                </div>\n              </div>\n            </draggable>\n          </div>\n        </div>\n      </el-scrollbar>\n    </div>\n\n    <div class=\"center-board\">\n      <div class=\"action-bar\">\n        <el-button icon=\"el-icon-video-play\" type=\"text\" @click=\"run\">\n          运行\n        </el-button>\n        <el-button icon=\"el-icon-view\" type=\"text\" @click=\"showJson\">\n          查看json\n        </el-button>\n        <el-button icon=\"el-icon-download\" type=\"text\" @click=\"download\">\n          导出vue文件\n        </el-button>\n        <el-button class=\"copy-btn-main\" icon=\"el-icon-document-copy\" type=\"text\" @click=\"copy\">\n          复制代码\n        </el-button>\n        <el-button class=\"delete-btn\" icon=\"el-icon-delete\" type=\"text\" @click=\"empty\">\n          清空\n        </el-button>\n      </div>\n      <el-scrollbar class=\"center-scrollbar\">\n        <el-row class=\"center-board-row\" :gutter=\"formConf.gutter\">\n          <el-form\n            :size=\"formConf.size\"\n            :label-position=\"formConf.labelPosition\"\n            :disabled=\"formConf.disabled\"\n            :label-width=\"formConf.labelWidth + 'px'\"\n          >\n            <draggable class=\"drawing-board\" :list=\"drawingList\" :animation=\"340\" group=\"componentsGroup\">\n              <draggable-item\n                v-for=\"(item, index) in drawingList\"\n                :key=\"item.renderKey\"\n                :drawing-list=\"drawingList\"\n                :current-item=\"item\"\n                :index=\"index\"\n                :active-id=\"activeId\"\n                :form-conf=\"formConf\"\n                @activeItem=\"activeFormItem\"\n                @copyItem=\"drawingItemCopy\"\n                @deleteItem=\"drawingItemDelete\"\n              />\n            </draggable>\n            <div v-show=\"!drawingList.length\" class=\"empty-info\">\n              从左侧拖入或点选组件进行表单设计\n            </div>\n          </el-form>\n        </el-row>\n      </el-scrollbar>\n    </div>\n\n    <right-panel\n      :active-data=\"activeData\"\n      :form-conf=\"formConf\"\n      :show-field=\"!!drawingList.length\"\n      @tag-change=\"tagChange\"\n      @fetch-data=\"fetchData\"\n    />\n\n    <form-drawer\n      :visible.sync=\"drawerVisible\"\n      :form-data=\"formData\"\n      size=\"100%\"\n      :generate-conf=\"generateConf\"\n    />\n    <json-drawer\n      size=\"60%\"\n      :visible.sync=\"jsonDrawerVisible\"\n      :json-str=\"JSON.stringify(formData)\"\n      @refresh=\"refreshJson\"\n    />\n    <code-type-dialog\n      :visible.sync=\"dialogVisible\"\n      title=\"选择生成类型\"\n      :show-file-name=\"showFileName\"\n      @confirm=\"generate\"\n    />\n    <input id=\"copyNode\" type=\"hidden\">\n  </div>\n</template>\n\n<script>\nimport draggable from 'vuedraggable'\nimport { debounce } from 'throttle-debounce'\nimport { saveAs } from 'file-saver'\nimport ClipboardJS from 'clipboard'\nimport render from '@/components/render/render'\nimport FormDrawer from './FormDrawer'\nimport JsonDrawer from './JsonDrawer'\nimport RightPanel from './RightPanel'\nimport {\n  inputComponents, selectComponents, layoutComponents, formConf\n} from '@/components/generator/config'\nimport {\n  exportDefault, beautifierConf, isNumberStr, titleCase, deepClone, isObjectObject\n} from '@/utils/index'\nimport {\n  makeUpHtml, vueTemplate, vueScript, cssStyle\n} from '@/components/generator/html'\nimport { makeUpJs } from '@/components/generator/js'\nimport { makeUpCss } from '@/components/generator/css'\nimport drawingDefalut from '@/components/generator/drawingDefalut'\nimport logo from '@/assets/logo.png'\nimport CodeTypeDialog from './CodeTypeDialog'\nimport DraggableItem from './DraggableItem'\nimport {\n  getDrawingList, saveDrawingList, getIdGlobal, saveIdGlobal, getFormConf\n} from '@/utils/db'\nimport loadBeautifier from '@/utils/loadBeautifier'\n\nlet beautifier\nconst emptyActiveData = { style: {}, autosize: {} }\nlet oldActiveId\nlet tempActiveData\nconst drawingListInDB = getDrawingList()\nconst formConfInDB = getFormConf()\nconst idGlobal = getIdGlobal()\n\nexport default {\n  components: {\n    draggable,\n    render,\n    FormDrawer,\n    JsonDrawer,\n    RightPanel,\n    CodeTypeDialog,\n    DraggableItem\n  },\n  data() {\n    return {\n      logo,\n      idGlobal,\n      formConf,\n      inputComponents,\n      selectComponents,\n      layoutComponents,\n      labelWidth: 100,\n      drawingList: drawingDefalut,\n      drawingData: {},\n      activeId: drawingDefalut[0].formId,\n      drawerVisible: false,\n      formData: {},\n      dialogVisible: false,\n      jsonDrawerVisible: false,\n      generateConf: null,\n      showFileName: false,\n      activeData: drawingDefalut[0],\n      saveDrawingListDebounce: debounce(340, saveDrawingList),\n      saveIdGlobalDebounce: debounce(340, saveIdGlobal),\n      leftComponents: [\n        {\n          title: '输入型组件',\n          list: inputComponents\n        },\n        {\n          title: '选择型组件',\n          list: selectComponents\n        },\n        {\n          title: '布局型组件',\n          list: layoutComponents\n        }\n      ]\n    }\n  },\n  computed: {\n  },\n  watch: {\n    // eslint-disable-next-line func-names\n    'activeData.__config__.label': function (val, oldVal) {\n      if (\n        this.activeData.placeholder === undefined\n        || !this.activeData.__config__.tag\n        || oldActiveId !== this.activeId\n      ) {\n        return\n      }\n      this.activeData.placeholder = this.activeData.placeholder.replace(oldVal, '') + val\n    },\n    activeId: {\n      handler(val) {\n        oldActiveId = val\n      },\n      immediate: true\n    },\n    drawingList: {\n      handler(val) {\n        this.saveDrawingListDebounce(val)\n        if (val.length === 0) this.idGlobal = 100\n      },\n      deep: true\n    },\n    idGlobal: {\n      handler(val) {\n        this.saveIdGlobalDebounce(val)\n      },\n      immediate: true\n    }\n  },\n  mounted() {\n    if (Array.isArray(drawingListInDB) && drawingListInDB.length > 0) {\n      this.drawingList = drawingListInDB\n    } else {\n      this.drawingList = drawingDefalut\n    }\n    this.activeFormItem(this.drawingList[0])\n    if (formConfInDB) {\n      this.formConf = formConfInDB\n    }\n    loadBeautifier(btf => {\n      beautifier = btf\n    })\n    const clipboard = new ClipboardJS('#copyNode', {\n      text: trigger => {\n        const codeStr = this.generateCode()\n        this.$notify({\n          title: '成功',\n          message: '代码已复制到剪切板，可粘贴。',\n          type: 'success'\n        })\n        return codeStr\n      }\n    })\n    clipboard.on('error', e => {\n      this.$message.error('代码复制失败')\n    })\n  },\n  methods: {\n    setObjectValueReduce(obj, strKeys, data) {\n      const arr = strKeys.split('.')\n      arr.reduce((pre, item, i) => {\n        if (arr.length === i + 1) {\n          pre[item] = data\n        } else if (!isObjectObject(pre[item])) {\n          pre[item] = {}\n        }\n        return pre[item]\n      }, obj)\n    },\n    setRespData(component, resp) {\n      const { dataPath, renderKey, dataConsumer } = component.__config__\n      if (!dataPath || !dataConsumer) return\n      const respData = dataPath.split('.').reduce((pre, item) => pre[item], resp)\n\n      // 将请求回来的数据，赋值到指定属性。\n      // 以el-tabel为例，根据Element文档，应该将数据赋值给el-tabel的data属性，所以dataConsumer的值应为'data';\n      // 此时赋值代码可写成 component[dataConsumer] = respData；\n      // 但为支持更深层级的赋值（如：dataConsumer的值为'options.data'）,使用setObjectValueReduce\n      this.setObjectValueReduce(component, dataConsumer, respData)\n      const i = this.drawingList.findIndex(item => item.__config__.renderKey === renderKey)\n      if (i > -1) this.$set(this.drawingList, i, component)\n    },\n    fetchData(component) {\n      const { dataType, method, url } = component.__config__\n      if (dataType === 'dynamic' && method && url) {\n        this.setLoading(component, true)\n        this.$axios({\n          method,\n          url\n        }).then(resp => {\n          this.setLoading(component, false)\n          this.setRespData(component, resp.data)\n        })\n      }\n    },\n    setLoading(component, val) {\n      const { directives } = component\n      if (Array.isArray(directives)) {\n        const t = directives.find(d => d.name === 'loading')\n        if (t) t.value = val\n      }\n    },\n    activeFormItem(currentItem) {\n      this.activeData = currentItem\n      this.activeId = currentItem.__config__.formId\n    },\n    onEnd(obj) {\n      if (obj.from !== obj.to) {\n        this.fetchData(tempActiveData)\n        this.activeData = tempActiveData\n        this.activeId = this.idGlobal\n      }\n    },\n    addComponent(item) {\n      const clone = this.cloneComponent(item)\n      this.fetchData(clone)\n      this.drawingList.push(clone)\n      this.activeFormItem(clone)\n    },\n    cloneComponent(origin) {\n      const clone = deepClone(origin)\n      const config = clone.__config__\n      config.span = this.formConf.span // 生成代码时，会根据span做精简判断\n      this.createIdAndKey(clone)\n      clone.placeholder !== undefined && (clone.placeholder += config.label)\n      tempActiveData = clone\n      return tempActiveData\n    },\n    createIdAndKey(item) {\n      const config = item.__config__\n      config.formId = ++this.idGlobal\n      config.renderKey = `${config.formId}${+new Date()}` // 改变renderKey后可以实现强制更新组件\n      if (config.layout === 'colFormItem') {\n        item.__vModel__ = `field${this.idGlobal}`\n      } else if (config.layout === 'rowFormItem') {\n        config.componentName = `row${this.idGlobal}`\n        !Array.isArray(config.children) && (config.children = [])\n        delete config.label // rowFormItem无需配置label属性\n      }\n      if (Array.isArray(config.children)) {\n        config.children = config.children.map(childItem => this.createIdAndKey(childItem))\n      }\n      return item\n    },\n    AssembleFormData() {\n      this.formData = {\n        fields: deepClone(this.drawingList),\n        ...this.formConf\n      }\n    },\n    generate(data) {\n      const func = this[`exec${titleCase(this.operationType)}`]\n      this.generateConf = data\n      func && func(data)\n    },\n    execRun(data) {\n      this.AssembleFormData()\n      this.drawerVisible = true\n    },\n    execDownload(data) {\n      const codeStr = this.generateCode()\n      const blob = new Blob([codeStr], { type: 'text/plain;charset=utf-8' })\n      saveAs(blob, data.fileName)\n    },\n    execCopy(data) {\n      document.getElementById('copyNode').click()\n    },\n    empty() {\n      this.$confirm('确定要清空所有组件吗？', '提示', { type: 'warning' }).then(\n        () => {\n          this.drawingList = []\n          this.idGlobal = 100\n        }\n      )\n    },\n    drawingItemCopy(item, list) {\n      let clone = deepClone(item)\n      clone = this.createIdAndKey(clone)\n      list.push(clone)\n      this.activeFormItem(clone)\n    },\n    drawingItemDelete(index, list) {\n      list.splice(index, 1)\n      this.$nextTick(() => {\n        const len = this.drawingList.length\n        if (len) {\n          this.activeFormItem(this.drawingList[len - 1])\n        }\n      })\n    },\n    generateCode() {\n      const { type } = this.generateConf\n      this.AssembleFormData()\n      const script = vueScript(makeUpJs(this.formData, type))\n      const html = vueTemplate(makeUpHtml(this.formData, type))\n      const css = cssStyle(makeUpCss(this.formData))\n      return beautifier.html(html + script + css, beautifierConf.html)\n    },\n    showJson() {\n      this.AssembleFormData()\n      this.jsonDrawerVisible = true\n    },\n    download() {\n      this.dialogVisible = true\n      this.showFileName = true\n      this.operationType = 'download'\n    },\n    run() {\n      this.dialogVisible = true\n      this.showFileName = false\n      this.operationType = 'run'\n    },\n    copy() {\n      this.dialogVisible = true\n      this.showFileName = false\n      this.operationType = 'copy'\n    },\n    tagChange(newTag) {\n      newTag = this.cloneComponent(newTag)\n      const config = newTag.__config__\n      newTag.__vModel__ = this.activeData.__vModel__\n      config.formId = this.activeId\n      config.span = this.activeData.__config__.span\n      this.activeData.__config__.tag = config.tag\n      this.activeData.__config__.tagIcon = config.tagIcon\n      this.activeData.__config__.document = config.document\n      if (typeof this.activeData.__config__.defaultValue === typeof config.defaultValue) {\n        config.defaultValue = this.activeData.__config__.defaultValue\n      }\n      Object.keys(newTag).forEach(key => {\n        if (this.activeData[key] !== undefined) {\n          newTag[key] = this.activeData[key]\n        }\n      })\n      this.activeData = newTag\n      this.updateDrawingList(newTag, this.drawingList)\n    },\n    updateDrawingList(newTag, list) {\n      const index = list.findIndex(item => item.__config__.formId === this.activeId)\n      if (index > -1) {\n        list.splice(index, 1, newTag)\n      } else {\n        list.forEach(item => {\n          if (Array.isArray(item.__config__.children)) this.updateDrawingList(newTag, item.__config__.children)\n        })\n      }\n    },\n    refreshJson(data) {\n      this.drawingList = deepClone(data.fields)\n      delete data.fields\n      this.formConf = data\n    }\n  }\n}\n</script>\n\n<style lang='scss'>\n@import '@/styles/home';\n</style>\n"]}]}