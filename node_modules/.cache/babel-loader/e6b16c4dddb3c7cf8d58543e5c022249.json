{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\form-generator\\src\\views\\index\\FormDrawer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\src\\views\\index\\FormDrawer.vue","mtime":1619538169718},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcGFyc2UgfSBmcm9tICdAYmFiZWwvcGFyc2VyJzsKaW1wb3J0IENsaXBib2FyZEpTIGZyb20gJ2NsaXBib2FyZCc7CmltcG9ydCB7IHNhdmVBcyB9IGZyb20gJ2ZpbGUtc2F2ZXInOwppbXBvcnQgeyBtYWtlVXBIdG1sLCB2dWVUZW1wbGF0ZSwgdnVlU2NyaXB0LCBjc3NTdHlsZSB9IGZyb20gJ0AvY29tcG9uZW50cy9nZW5lcmF0b3IvaHRtbCc7CmltcG9ydCB7IG1ha2VVcEpzIH0gZnJvbSAnQC9jb21wb25lbnRzL2dlbmVyYXRvci9qcyc7CmltcG9ydCB7IG1ha2VVcENzcyB9IGZyb20gJ0AvY29tcG9uZW50cy9nZW5lcmF0b3IvY3NzJzsKaW1wb3J0IHsgZXhwb3J0RGVmYXVsdCwgYmVhdXRpZmllckNvbmYsIHRpdGxlQ2FzZSB9IGZyb20gJ0AvdXRpbHMvaW5kZXgnOwppbXBvcnQgUmVzb3VyY2VEaWFsb2cgZnJvbSAnLi9SZXNvdXJjZURpYWxvZyc7CmltcG9ydCBsb2FkTW9uYWNvIGZyb20gJ0AvdXRpbHMvbG9hZE1vbmFjbyc7CmltcG9ydCBsb2FkQmVhdXRpZmllciBmcm9tICdAL3V0aWxzL2xvYWRCZWF1dGlmaWVyJzsKdmFyIGVkaXRvck9iaiA9IHsKICBodG1sOiBudWxsLAogIGpzOiBudWxsLAogIGNzczogbnVsbAp9Owp2YXIgbW9kZSA9IHsKICBodG1sOiAnaHRtbCcsCiAganM6ICdqYXZhc2NyaXB0JywKICBjc3M6ICdjc3MnCn07CnZhciBiZWF1dGlmaWVyOwp2YXIgbW9uYWNvOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUmVzb3VyY2VEaWFsb2c6IFJlc291cmNlRGlhbG9nCiAgfSwKICBwcm9wczogWydmb3JtRGF0YScsICdnZW5lcmF0ZUNvbmYnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlVGFiOiAnaHRtbCcsCiAgICAgIGh0bWxDb2RlOiAnJywKICAgICAganNDb2RlOiAnJywKICAgICAgY3NzQ29kZTogJycsCiAgICAgIGNvZGVGcmFtZTogJycsCiAgICAgIGlzSWZyYW1lTG9hZGVkOiBmYWxzZSwKICAgICAgaXNJbml0Y29kZTogZmFsc2UsCiAgICAgIC8vIOS/neivgW9wZW7lkI7kuKTkuKrlvILmraXlj6rmiafooYzkuIDmrKFydW5jb2RlCiAgICAgIGlzUmVmcmVzaENvZGU6IGZhbHNlLAogICAgICAvLyDmr4/mrKHmiZPlvIDpg73pnIDopoHph43mlrDliLfmlrDku6PnoIEKICAgICAgcmVzb3VyY2VWaXNpYmxlOiBmYWxzZSwKICAgICAgc2NyaXB0czogW10sCiAgICAgIGxpbmtzOiBbXSwKICAgICAgbW9uYWNvOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJlc291cmNlczogZnVuY3Rpb24gcmVzb3VyY2VzKCkgewogICAgICByZXR1cm4gdGhpcy5zY3JpcHRzLmNvbmNhdCh0aGlzLmxpbmtzKTsKICAgIH0KICB9LAogIHdhdGNoOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnByZXZlbnREZWZhdWx0U2F2ZSk7CiAgICB2YXIgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZEpTKCcuY29weS1idG4nLCB7CiAgICAgIHRleHQ6IGZ1bmN0aW9uIHRleHQodHJpZ2dlcikgewogICAgICAgIHZhciBjb2RlU3RyID0gX3RoaXMuZ2VuZXJhdGVDb2RlKCk7CgogICAgICAgIF90aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgbWVzc2FnZTogJ+S7o+eggeW3suWkjeWItuWIsOWJquWIh+adv++8jOWPr+eymOi0tOOAgicsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIGNvZGVTdHI7CiAgICAgIH0KICAgIH0pOwogICAgY2xpcGJvYXJkLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7CiAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfku6PnoIHlpI3liLblpLHotKUnKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5wcmV2ZW50RGVmYXVsdFNhdmUpOwogIH0sCiAgbWV0aG9kczogewogICAgcHJldmVudERlZmF1bHRTYXZlOiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdFNhdmUoZSkgewogICAgICBpZiAoZS5rZXkgPT09ICdzJyAmJiAoZS5tZXRhS2V5IHx8IGUuY3RybEtleSkpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0sCiAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdHlwZSA9IHRoaXMuZ2VuZXJhdGVDb25mLnR5cGU7CiAgICAgIHRoaXMuaHRtbENvZGUgPSBtYWtlVXBIdG1sKHRoaXMuZm9ybURhdGEsIHR5cGUpOwogICAgICB0aGlzLmpzQ29kZSA9IG1ha2VVcEpzKHRoaXMuZm9ybURhdGEsIHR5cGUpOwogICAgICB0aGlzLmNzc0NvZGUgPSBtYWtlVXBDc3ModGhpcy5mb3JtRGF0YSk7CiAgICAgIGxvYWRCZWF1dGlmaWVyKGZ1bmN0aW9uIChidGYpIHsKICAgICAgICBiZWF1dGlmaWVyID0gYnRmOwogICAgICAgIF90aGlzMi5odG1sQ29kZSA9IGJlYXV0aWZpZXIuaHRtbChfdGhpczIuaHRtbENvZGUsIGJlYXV0aWZpZXJDb25mLmh0bWwpOwogICAgICAgIF90aGlzMi5qc0NvZGUgPSBiZWF1dGlmaWVyLmpzKF90aGlzMi5qc0NvZGUsIGJlYXV0aWZpZXJDb25mLmpzKTsKICAgICAgICBfdGhpczIuY3NzQ29kZSA9IGJlYXV0aWZpZXIuY3NzKF90aGlzMi5jc3NDb2RlLCBiZWF1dGlmaWVyQ29uZi5odG1sKTsKICAgICAgICBsb2FkTW9uYWNvKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgIG1vbmFjbyA9IHZhbDsKCiAgICAgICAgICBfdGhpczIuc2V0RWRpdG9yVmFsdWUoJ2VkaXRvckh0bWwnLCAnaHRtbCcsIF90aGlzMi5odG1sQ29kZSk7CgogICAgICAgICAgX3RoaXMyLnNldEVkaXRvclZhbHVlKCdlZGl0b3JKcycsICdqcycsIF90aGlzMi5qc0NvZGUpOwoKICAgICAgICAgIF90aGlzMi5zZXRFZGl0b3JWYWx1ZSgnZWRpdG9yQ3NzJywgJ2NzcycsIF90aGlzMi5jc3NDb2RlKTsKCiAgICAgICAgICBpZiAoIV90aGlzMi5pc0luaXRjb2RlKSB7CiAgICAgICAgICAgIF90aGlzMi5pc1JlZnJlc2hDb2RlID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMyLmlzSWZyYW1lTG9hZGVkICYmIChfdGhpczIuaXNJbml0Y29kZSA9IHRydWUpICYmIF90aGlzMi5ydW5Db2RlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgIHRoaXMuaXNJbml0Y29kZSA9IGZhbHNlOwogICAgICB0aGlzLmlzUmVmcmVzaENvZGUgPSBmYWxzZTsKICAgIH0sCiAgICBpZnJhbWVMb2FkOiBmdW5jdGlvbiBpZnJhbWVMb2FkKCkgewogICAgICBpZiAoIXRoaXMuaXNJbml0Y29kZSkgewogICAgICAgIHRoaXMuaXNJZnJhbWVMb2FkZWQgPSB0cnVlOwogICAgICAgIHRoaXMuaXNSZWZyZXNoQ29kZSAmJiAodGhpcy5pc0luaXRjb2RlID0gdHJ1ZSkgJiYgdGhpcy5ydW5Db2RlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRFZGl0b3JWYWx1ZTogZnVuY3Rpb24gc2V0RWRpdG9yVmFsdWUoaWQsIHR5cGUsIGNvZGVTdHIpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAoZWRpdG9yT2JqW3R5cGVdKSB7CiAgICAgICAgZWRpdG9yT2JqW3R5cGVdLnNldFZhbHVlKGNvZGVTdHIpOwogICAgICB9IGVsc2UgewogICAgICAgIGVkaXRvck9ialt0eXBlXSA9IG1vbmFjby5lZGl0b3IuY3JlYXRlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSwgewogICAgICAgICAgdmFsdWU6IGNvZGVTdHIsCiAgICAgICAgICB0aGVtZTogJ3ZzLWRhcmsnLAogICAgICAgICAgbGFuZ3VhZ2U6IG1vZGVbdHlwZV0sCiAgICAgICAgICBhdXRvbWF0aWNMYXlvdXQ6IHRydWUKICAgICAgICB9KTsKICAgICAgfSAvLyBjdHJsICsgcyDliLfmlrAKCgogICAgICBlZGl0b3JPYmpbdHlwZV0ub25LZXlEb3duKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gNDkgJiYgKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpKSB7CiAgICAgICAgICBfdGhpczMucnVuQ29kZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcnVuQ29kZTogZnVuY3Rpb24gcnVuQ29kZSgpIHsKICAgICAgdmFyIGpzQ29kZVN0ciA9IGVkaXRvck9iai5qcy5nZXRWYWx1ZSgpOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgYXN0ID0gcGFyc2UoanNDb2RlU3RyLCB7CiAgICAgICAgICBzb3VyY2VUeXBlOiAnbW9kdWxlJwogICAgICAgIH0pOwogICAgICAgIHZhciBhc3RCb2R5ID0gYXN0LnByb2dyYW0uYm9keTsKCiAgICAgICAgaWYgKGFzdEJvZHkubGVuZ3RoID4gMSkgewogICAgICAgICAgdGhpcy4kY29uZmlybSgnanPmoLzlvI/kuI3og73or4bliKvvvIzku4XmlK/mjIHkv67mlLlleHBvcnQgZGVmYXVsdOeahOWvueixoeWGheWuuScsICfmj5DnpLonLCB7CiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoYXN0Qm9keVswXS50eXBlID09PSAnRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uJykgewogICAgICAgICAgdmFyIHBvc3REYXRhID0gewogICAgICAgICAgICB0eXBlOiAncmVmcmVzaEZyYW1lJywKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIGdlbmVyYXRlQ29uZjogdGhpcy5nZW5lcmF0ZUNvbmYsCiAgICAgICAgICAgICAgaHRtbDogZWRpdG9yT2JqLmh0bWwuZ2V0VmFsdWUoKSwKICAgICAgICAgICAgICBqczoganNDb2RlU3RyLnJlcGxhY2UoZXhwb3J0RGVmYXVsdCwgJycpLAogICAgICAgICAgICAgIGNzczogZWRpdG9yT2JqLmNzcy5nZXRWYWx1ZSgpLAogICAgICAgICAgICAgIHNjcmlwdHM6IHRoaXMuc2NyaXB0cywKICAgICAgICAgICAgICBsaW5rczogdGhpcy5saW5rcwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy4kcmVmcy5wcmV2aWV3UGFnZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHBvc3REYXRhLCBsb2NhdGlvbi5vcmlnaW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fkvb/nlKhleHBvcnQgZGVmYXVsdCcpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigianNcdTk1MTlcdThCRUZcdUZGMUEiLmNvbmNhdChlcnIpKTsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZUNvZGU6IGZ1bmN0aW9uIGdlbmVyYXRlQ29kZSgpIHsKICAgICAgdmFyIGh0bWwgPSB2dWVUZW1wbGF0ZShlZGl0b3JPYmouaHRtbC5nZXRWYWx1ZSgpKTsKICAgICAgdmFyIHNjcmlwdCA9IHZ1ZVNjcmlwdChlZGl0b3JPYmouanMuZ2V0VmFsdWUoKSk7CiAgICAgIHZhciBjc3MgPSBjc3NTdHlsZShlZGl0b3JPYmouY3NzLmdldFZhbHVlKCkpOwogICAgICByZXR1cm4gYmVhdXRpZmllci5odG1sKGh0bWwgKyBzY3JpcHQgKyBjc3MsIGJlYXV0aWZpZXJDb25mLmh0bWwpOwogICAgfSwKICAgIGV4cG9ydEZpbGU6IGZ1bmN0aW9uIGV4cG9ydEZpbGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kcHJvbXB0KCfmlofku7blkI06JywgJ+WvvOWHuuaWh+S7ticsIHsKICAgICAgICBpbnB1dFZhbHVlOiAiIi5jb25jYXQoK25ldyBEYXRlKCksICIudnVlIiksCiAgICAgICAgY2xvc2VPbkNsaWNrTW9kYWw6IGZhbHNlLAogICAgICAgIGlucHV0UGxhY2Vob2xkZXI6ICfor7fovpPlhaXmlofku7blkI0nCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgIGlmICghdmFsdWUpIHZhbHVlID0gIiIuY29uY2F0KCtuZXcgRGF0ZSgpLCAiLnZ1ZSIpOwoKICAgICAgICB2YXIgY29kZVN0ciA9IF90aGlzNC5nZW5lcmF0ZUNvZGUoKTsKCiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29kZVN0cl0sIHsKICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnCiAgICAgICAgfSk7CiAgICAgICAgc2F2ZUFzKGJsb2IsIHZhbHVlKTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd1Jlc291cmNlOiBmdW5jdGlvbiBzaG93UmVzb3VyY2UoKSB7CiAgICAgIHRoaXMucmVzb3VyY2VWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBzZXRSZXNvdXJjZTogZnVuY3Rpb24gc2V0UmVzb3VyY2UoYXJyKSB7CiAgICAgIHZhciBzY3JpcHRzID0gW107CiAgICAgIHZhciBsaW5rcyA9IFtdOwoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgewogICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5lbmRzV2l0aCgnLmNzcycpKSB7CiAgICAgICAgICAgIGxpbmtzLnB1c2goaXRlbSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzY3JpcHRzLnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zY3JpcHRzID0gc2NyaXB0czsKICAgICAgICB0aGlzLmxpbmtzID0gbGlua3M7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zY3JpcHRzID0gW107CiAgICAgICAgdGhpcy5saW5rcyA9IFtdOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["FormDrawer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-drawer v-bind=\"$attrs\" v-on=\"$listeners\" @opened=\"onOpen\" @close=\"onClose\">\n      <div style=\"height:100%\">\n        <el-row style=\"height:100%;overflow:auto\">\n          <el-col :md=\"24\" :lg=\"12\" class=\"left-editor\">\n            <div class=\"setting\" title=\"资源引用\" @click=\"showResource\">\n              <el-badge :is-dot=\"!!resources.length\" class=\"item\">\n                <i class=\"el-icon-setting\" />\n              </el-badge>\n            </div>\n            <el-tabs v-model=\"activeTab\" type=\"card\" class=\"editor-tabs\">\n              <el-tab-pane name=\"html\">\n                <span slot=\"label\">\n                  <i v-if=\"activeTab==='html'\" class=\"el-icon-edit\" />\n                  <i v-else class=\"el-icon-document\" />\n                  template\n                </span>\n              </el-tab-pane>\n              <el-tab-pane name=\"js\">\n                <span slot=\"label\">\n                  <i v-if=\"activeTab==='js'\" class=\"el-icon-edit\" />\n                  <i v-else class=\"el-icon-document\" />\n                  script\n                </span>\n              </el-tab-pane>\n              <el-tab-pane name=\"css\">\n                <span slot=\"label\">\n                  <i v-if=\"activeTab==='css'\" class=\"el-icon-edit\" />\n                  <i v-else class=\"el-icon-document\" />\n                  css\n                </span>\n              </el-tab-pane>\n            </el-tabs>\n            <div v-show=\"activeTab==='html'\" id=\"editorHtml\" class=\"tab-editor\" />\n            <div v-show=\"activeTab==='js'\" id=\"editorJs\" class=\"tab-editor\" />\n            <div v-show=\"activeTab==='css'\" id=\"editorCss\" class=\"tab-editor\" />\n          </el-col>\n          <el-col :md=\"24\" :lg=\"12\" class=\"right-preview\">\n            <div class=\"action-bar\" :style=\"{'text-align': 'left'}\">\n              <span class=\"bar-btn\" @click=\"runCode\">\n                <i class=\"el-icon-refresh\" />\n                刷新\n              </span>\n              <span class=\"bar-btn\" @click=\"exportFile\">\n                <i class=\"el-icon-download\" />\n                导出vue文件\n              </span>\n              <span ref=\"copyBtn\" class=\"bar-btn copy-btn\">\n                <i class=\"el-icon-document-copy\" />\n                复制代码\n              </span>\n              <span class=\"bar-btn delete-btn\" @click=\"$emit('update:visible', false)\">\n                <i class=\"el-icon-circle-close\" />\n                关闭\n              </span>\n            </div>\n            <iframe\n              v-show=\"isIframeLoaded\"\n              ref=\"previewPage\"\n              class=\"result-wrapper\"\n              frameborder=\"0\"\n              src=\"preview.html\"\n              @load=\"iframeLoad\"\n            />\n            <div v-show=\"!isIframeLoaded\" v-loading=\"true\" class=\"result-wrapper\" />\n          </el-col>\n        </el-row>\n      </div>\n    </el-drawer>\n    <resource-dialog\n      :visible.sync=\"resourceVisible\"\n      :origin-resource=\"resources\"\n      @save=\"setResource\"\n    />\n  </div>\n</template>\n<script>\nimport { parse } from '@babel/parser'\nimport ClipboardJS from 'clipboard'\nimport { saveAs } from 'file-saver'\nimport {\n  makeUpHtml, vueTemplate, vueScript, cssStyle\n} from '@/components/generator/html'\nimport { makeUpJs } from '@/components/generator/js'\nimport { makeUpCss } from '@/components/generator/css'\nimport { exportDefault, beautifierConf, titleCase } from '@/utils/index'\nimport ResourceDialog from './ResourceDialog'\nimport loadMonaco from '@/utils/loadMonaco'\nimport loadBeautifier from '@/utils/loadBeautifier'\n\nconst editorObj = {\n  html: null,\n  js: null,\n  css: null\n}\nconst mode = {\n  html: 'html',\n  js: 'javascript',\n  css: 'css'\n}\nlet beautifier\nlet monaco\n\nexport default {\n  components: { ResourceDialog },\n  props: ['formData', 'generateConf'],\n  data() {\n    return {\n      activeTab: 'html',\n      htmlCode: '',\n      jsCode: '',\n      cssCode: '',\n      codeFrame: '',\n      isIframeLoaded: false,\n      isInitcode: false, // 保证open后两个异步只执行一次runcode\n      isRefreshCode: false, // 每次打开都需要重新刷新代码\n      resourceVisible: false,\n      scripts: [],\n      links: [],\n      monaco: null\n    }\n  },\n  computed: {\n    resources() {\n      return this.scripts.concat(this.links)\n    }\n  },\n  watch: {},\n  created() {\n  },\n  mounted() {\n    window.addEventListener('keydown', this.preventDefaultSave)\n    const clipboard = new ClipboardJS('.copy-btn', {\n      text: trigger => {\n        const codeStr = this.generateCode()\n        this.$notify({\n          title: '成功',\n          message: '代码已复制到剪切板，可粘贴。',\n          type: 'success'\n        })\n        return codeStr\n      }\n    })\n    clipboard.on('error', e => {\n      this.$message.error('代码复制失败')\n    })\n  },\n  beforeDestroy() {\n    window.removeEventListener('keydown', this.preventDefaultSave)\n  },\n  methods: {\n    preventDefaultSave(e) {\n      if (e.key === 's' && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault()\n      }\n    },\n    onOpen() {\n      const { type } = this.generateConf\n      this.htmlCode = makeUpHtml(this.formData, type)\n      this.jsCode = makeUpJs(this.formData, type)\n      this.cssCode = makeUpCss(this.formData)\n\n      loadBeautifier(btf => {\n        beautifier = btf\n        this.htmlCode = beautifier.html(this.htmlCode, beautifierConf.html)\n        this.jsCode = beautifier.js(this.jsCode, beautifierConf.js)\n        this.cssCode = beautifier.css(this.cssCode, beautifierConf.html)\n\n        loadMonaco(val => {\n          monaco = val\n          this.setEditorValue('editorHtml', 'html', this.htmlCode)\n          this.setEditorValue('editorJs', 'js', this.jsCode)\n          this.setEditorValue('editorCss', 'css', this.cssCode)\n          if (!this.isInitcode) {\n            this.isRefreshCode = true\n            this.isIframeLoaded && (this.isInitcode = true) && this.runCode()\n          }\n        })\n      })\n    },\n    onClose() {\n      this.isInitcode = false\n      this.isRefreshCode = false\n    },\n    iframeLoad() {\n      if (!this.isInitcode) {\n        this.isIframeLoaded = true\n        this.isRefreshCode && (this.isInitcode = true) && this.runCode()\n      }\n    },\n    setEditorValue(id, type, codeStr) {\n      if (editorObj[type]) {\n        editorObj[type].setValue(codeStr)\n      } else {\n        editorObj[type] = monaco.editor.create(document.getElementById(id), {\n          value: codeStr,\n          theme: 'vs-dark',\n          language: mode[type],\n          automaticLayout: true\n        })\n      }\n      // ctrl + s 刷新\n      editorObj[type].onKeyDown(e => {\n        if (e.keyCode === 49 && (e.metaKey || e.ctrlKey)) {\n          this.runCode()\n        }\n      })\n    },\n    runCode() {\n      const jsCodeStr = editorObj.js.getValue()\n      try {\n        const ast = parse(jsCodeStr, { sourceType: 'module' })\n        const astBody = ast.program.body\n        if (astBody.length > 1) {\n          this.$confirm(\n            'js格式不能识别，仅支持修改export default的对象内容',\n            '提示',\n            {\n              type: 'warning'\n            }\n          )\n          return\n        }\n        if (astBody[0].type === 'ExportDefaultDeclaration') {\n          const postData = {\n            type: 'refreshFrame',\n            data: {\n              generateConf: this.generateConf,\n              html: editorObj.html.getValue(),\n              js: jsCodeStr.replace(exportDefault, ''),\n              css: editorObj.css.getValue(),\n              scripts: this.scripts,\n              links: this.links\n            }\n          }\n\n          this.$refs.previewPage.contentWindow.postMessage(\n            postData,\n            location.origin\n          )\n        } else {\n          this.$message.error('请使用export default')\n        }\n      } catch (err) {\n        this.$message.error(`js错误：${err}`)\n        console.error(err)\n      }\n    },\n    generateCode() {\n      const html = vueTemplate(editorObj.html.getValue())\n      const script = vueScript(editorObj.js.getValue())\n      const css = cssStyle(editorObj.css.getValue())\n      return beautifier.html(html + script + css, beautifierConf.html)\n    },\n    exportFile() {\n      this.$prompt('文件名:', '导出文件', {\n        inputValue: `${+new Date()}.vue`,\n        closeOnClickModal: false,\n        inputPlaceholder: '请输入文件名'\n      }).then(({ value }) => {\n        if (!value) value = `${+new Date()}.vue`\n        const codeStr = this.generateCode()\n        const blob = new Blob([codeStr], { type: 'text/plain;charset=utf-8' })\n        saveAs(blob, value)\n      })\n    },\n    showResource() {\n      this.resourceVisible = true\n    },\n    setResource(arr) {\n      const scripts = []; const\n        links = []\n      if (Array.isArray(arr)) {\n        arr.forEach(item => {\n          if (item.endsWith('.css')) {\n            links.push(item)\n          } else {\n            scripts.push(item)\n          }\n        })\n        this.scripts = scripts\n        this.links = links\n      } else {\n        this.scripts = []\n        this.links = []\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/mixin.scss';\n.tab-editor {\n  position: absolute;\n  top: 33px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 14px;\n}\n.left-editor {\n  position: relative;\n  height: 100%;\n  background: #1e1e1e;\n  overflow: hidden;\n}\n.setting{\n  position: absolute;\n  right: 15px;\n  top: 3px;\n  color: #a9f122;\n  font-size: 18px;\n  cursor: pointer;\n  z-index: 1;\n}\n.right-preview {\n  height: 100%;\n  .result-wrapper {\n    height: calc(100vh - 33px);\n    width: 100%;\n    overflow: auto;\n    padding: 12px;\n    box-sizing: border-box;\n  }\n}\n@include action-bar;\n::v-deep .el-drawer__header {\n  display: none;\n}\n</style>\n"],"sourceRoot":"src/views/index"}]}