{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\form-generator\\src\\views\\index\\TreeNodeDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\src\\views\\index\\TreeNodeDialog.vue","mtime":1619538169726},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgaXNOdW1iZXJTdHIgfSBmcm9tICdAL3V0aWxzL2luZGV4JzsKaW1wb3J0IHsgZ2V0VHJlZU5vZGVJZCwgc2F2ZVRyZWVOb2RlSWQgfSBmcm9tICdAL3V0aWxzL2RiJzsKdmFyIGlkID0gZ2V0VHJlZU5vZGVJZCgpOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBwcm9wczogW10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkOiBpZCwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBsYWJlbDogdW5kZWZpbmVkLAogICAgICAgIHZhbHVlOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBsYWJlbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemAiemhueWQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemAiemhueWAvCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBkYXRhVHlwZTogJ3N0cmluZycsCiAgICAgIGRhdGFUeXBlT3B0aW9uczogW3sKICAgICAgICBsYWJlbDogJ+Wtl+espuS4sicsCiAgICAgICAgdmFsdWU6ICdzdHJpbmcnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aVsOWtlycsCiAgICAgICAgdmFsdWU6ICdudW1iZXInCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lcwogICAgJ2Zvcm1EYXRhLnZhbHVlJzogZnVuY3Rpb24gZm9ybURhdGFWYWx1ZSh2YWwpIHsKICAgICAgdGhpcy5kYXRhVHlwZSA9IGlzTnVtYmVyU3RyKHZhbCkgPyAnbnVtYmVyJyA6ICdzdHJpbmcnOwogICAgfSwKICAgIGlkOiBmdW5jdGlvbiBpZCh2YWwpIHsKICAgICAgc2F2ZVRyZWVOb2RlSWQodmFsKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgb25PcGVuOiBmdW5jdGlvbiBvbk9wZW4oKSB7CiAgICAgIHRoaXMuZm9ybURhdGEgPSB7CiAgICAgICAgbGFiZWw6IHVuZGVmaW5lZCwKICAgICAgICB2YWx1ZTogdW5kZWZpbmVkCiAgICAgIH07CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHt9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIGZhbHNlKTsKICAgIH0sCiAgICBoYW5kZWxDb25maXJtOiBmdW5jdGlvbiBoYW5kZWxDb25maXJtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5lbEZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOwoKICAgICAgICBpZiAoX3RoaXMuZGF0YVR5cGUgPT09ICdudW1iZXInKSB7CiAgICAgICAgICBfdGhpcy5mb3JtRGF0YS52YWx1ZSA9IHBhcnNlRmxvYXQoX3RoaXMuZm9ybURhdGEudmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZm9ybURhdGEuaWQgPSBfdGhpcy5pZCsrOwoKICAgICAgICBfdGhpcy4kZW1pdCgnY29tbWl0JywgX3RoaXMuZm9ybURhdGEpOwoKICAgICAgICBfdGhpcy5jbG9zZSgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["TreeNodeDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA,SAAA,WAAA,QAAA,eAAA;AACA,SAAA,aAAA,EAAA,cAAA,QAAA,YAAA;AAEA,IAAA,EAAA,GAAA,aAAA,EAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,YAAA,EAAA,KAFA;AAGA,EAAA,KAAA,EAAA,EAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAFA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,QAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SADA,CADA;AAQA,QAAA,KAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,QAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SADA;AARA,OANA;AAsBA,MAAA,QAAA,EAAA,QAtBA;AAuBA,MAAA,eAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA;AAvBA,KAAA;AAkCA,GAvCA;AAwCA,EAAA,QAAA,EAAA,EAxCA;AAyCA,EAAA,KAAA,EAAA;AACA;AACA,sBAAA,uBAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,WAAA,CAAA,GAAA,CAAA,GAAA,QAAA,GAAA,QAAA;AACA,KAJA;AAKA,IAAA,EALA,cAKA,GALA,EAKA;AACA,MAAA,cAAA,CAAA,GAAA,CAAA;AACA;AAPA,GAzCA;AAkDA,EAAA,OAlDA,qBAkDA,CAAA,CAlDA;AAmDA,EAAA,OAnDA,qBAmDA,CAAA,CAnDA;AAoDA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,QAAA,GAAA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAAA;AAIA,KANA;AAOA,IAAA,OAPA,qBAOA,CAAA,CAPA;AAQA,IAAA,KARA,mBAQA;AACA,WAAA,KAAA,CAAA,gBAAA,EAAA,KAAA;AACA,KAVA;AAWA,IAAA,aAXA,2BAWA;AAAA;;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,CAAA,KAAA,EAAA;;AACA,YAAA,KAAA,CAAA,QAAA,KAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,GAAA,UAAA,CAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,EAAA,GAAA,KAAA,CAAA,EAAA,EAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA;;AACA,QAAA,KAAA,CAAA,KAAA;AACA,OARA;AASA;AArBA;AApDA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      v-bind=\"$attrs\"\n      :close-on-click-modal=\"false\"\n      :modal-append-to-body=\"false\"\n      v-on=\"$listeners\"\n      @open=\"onOpen\"\n      @close=\"onClose\"\n    >\n      <el-row :gutter=\"0\">\n        <el-form\n          ref=\"elForm\"\n          :model=\"formData\"\n          :rules=\"rules\"\n          size=\"small\"\n          label-width=\"100px\"\n        >\n          <el-col :span=\"24\">\n            <el-form-item\n              label=\"选项名\"\n              prop=\"label\"\n            >\n              <el-input\n                v-model=\"formData.label\"\n                placeholder=\"请输入选项名\"\n                clearable\n              />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item\n              label=\"选项值\"\n              prop=\"value\"\n            >\n              <el-input\n                v-model=\"formData.value\"\n                placeholder=\"请输入选项值\"\n                clearable\n              >\n                <el-select\n                  slot=\"append\"\n                  v-model=\"dataType\"\n                  :style=\"{width: '100px'}\"\n                >\n                  <el-option\n                    v-for=\"(item, index) in dataTypeOptions\"\n                    :key=\"index\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                    :disabled=\"item.disabled\"\n                  />\n                </el-select>\n              </el-input>\n            </el-form-item>\n          </el-col>\n        </el-form>\n      </el-row>\n      <div slot=\"footer\">\n        <el-button\n          type=\"primary\"\n          @click=\"handelConfirm\"\n        >\n          确定\n        </el-button>\n        <el-button @click=\"close\">\n          取消\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { isNumberStr } from '@/utils/index'\nimport { getTreeNodeId, saveTreeNodeId } from '@/utils/db'\n\nconst id = getTreeNodeId()\n\nexport default {\n  components: {},\n  inheritAttrs: false,\n  props: [],\n  data() {\n    return {\n      id,\n      formData: {\n        label: undefined,\n        value: undefined\n      },\n      rules: {\n        label: [\n          {\n            required: true,\n            message: '请输入选项名',\n            trigger: 'blur'\n          }\n        ],\n        value: [\n          {\n            required: true,\n            message: '请输入选项值',\n            trigger: 'blur'\n          }\n        ]\n      },\n      dataType: 'string',\n      dataTypeOptions: [\n        {\n          label: '字符串',\n          value: 'string'\n        },\n        {\n          label: '数字',\n          value: 'number'\n        }\n      ]\n    }\n  },\n  computed: {},\n  watch: {\n    // eslint-disable-next-line func-names\n    'formData.value': function (val) {\n      this.dataType = isNumberStr(val) ? 'number' : 'string'\n    },\n    id(val) {\n      saveTreeNodeId(val)\n    }\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    onOpen() {\n      this.formData = {\n        label: undefined,\n        value: undefined\n      }\n    },\n    onClose() {},\n    close() {\n      this.$emit('update:visible', false)\n    },\n    handelConfirm() {\n      this.$refs.elForm.validate(valid => {\n        if (!valid) return\n        if (this.dataType === 'number') {\n          this.formData.value = parseFloat(this.formData.value)\n        }\n        this.formData.id = this.id++\n        this.$emit('commit', this.formData)\n        this.close()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"],"sourceRoot":"src/views/index"}]}