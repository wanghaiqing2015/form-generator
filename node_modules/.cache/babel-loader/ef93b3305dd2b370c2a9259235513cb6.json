{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Administrator\\Desktop\\form-generator\\src\\utils\\db.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\src\\utils\\db.js","mtime":1619538169710},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\form-generator\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIERSQVdJTkdfSVRFTVMgPSAnZHJhd2luZ0l0ZW1zJzsKdmFyIERSQVdJTkdfSVRFTVNfVkVSU0lPTiA9ICcxLjInOwp2YXIgRFJBV0lOR19JVEVNU19WRVJTSU9OX0tFWSA9ICdEUkFXSU5HX0lURU1TX1ZFUlNJT04nOwp2YXIgRFJBV0lOR19JRCA9ICdpZEdsb2JhbCc7CnZhciBUUkVFX05PREVfSUQgPSAndHJlZU5vZGVJZCc7CnZhciBGT1JNX0NPTkYgPSAnZm9ybUNvbmYnOwpleHBvcnQgZnVuY3Rpb24gZ2V0RHJhd2luZ0xpc3QoKSB7CiAgLy8g5Yqg5YWl57yT5a2Y54mI5pys55qE5qaC5b+177yM5L+d6K+B57yT5a2Y5pWw5o2u5LiO56iL5bqP5Yy56YWNCiAgdmFyIHZlcnNpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEUkFXSU5HX0lURU1TX1ZFUlNJT05fS0VZKTsKCiAgaWYgKHZlcnNpb24gIT09IERSQVdJTkdfSVRFTVNfVkVSU0lPTikgewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oRFJBV0lOR19JVEVNU19WRVJTSU9OX0tFWSwgRFJBV0lOR19JVEVNU19WRVJTSU9OKTsKICAgIHNhdmVEcmF3aW5nTGlzdChbXSk7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBzdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEUkFXSU5HX0lURU1TKTsKICBpZiAoc3RyKSByZXR1cm4gSlNPTi5wYXJzZShzdHIpOwogIHJldHVybiBudWxsOwp9CmV4cG9ydCBmdW5jdGlvbiBzYXZlRHJhd2luZ0xpc3QobGlzdCkgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKERSQVdJTkdfSVRFTVMsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0SWRHbG9iYWwoKSB7CiAgdmFyIHN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKERSQVdJTkdfSUQpOwogIGlmIChzdHIpIHJldHVybiBwYXJzZUludChzdHIsIDEwKTsKICByZXR1cm4gMTAwOwp9CmV4cG9ydCBmdW5jdGlvbiBzYXZlSWRHbG9iYWwoaWQpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShEUkFXSU5HX0lELCAiIi5jb25jYXQoaWQpKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0VHJlZU5vZGVJZCgpIHsKICB2YXIgc3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVFJFRV9OT0RFX0lEKTsKICBpZiAoc3RyKSByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCk7CiAgcmV0dXJuIDEwMDsKfQpleHBvcnQgZnVuY3Rpb24gc2F2ZVRyZWVOb2RlSWQoaWQpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUUkVFX05PREVfSUQsICIiLmNvbmNhdChpZCkpOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JtQ29uZigpIHsKICB2YXIgc3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oRk9STV9DT05GKTsKICBpZiAoc3RyKSByZXR1cm4gSlNPTi5wYXJzZShzdHIpOwogIHJldHVybiBudWxsOwp9CmV4cG9ydCBmdW5jdGlvbiBzYXZlRm9ybUNvbmYob2JqKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oRk9STV9DT05GLCBKU09OLnN0cmluZ2lmeShvYmopKTsKfQ=="},{"version":3,"sources":["C:/Users/Administrator/Desktop/form-generator/src/utils/db.js"],"names":["DRAWING_ITEMS","DRAWING_ITEMS_VERSION","DRAWING_ITEMS_VERSION_KEY","DRAWING_ID","TREE_NODE_ID","FORM_CONF","getDrawingList","version","localStorage","getItem","setItem","saveDrawingList","str","JSON","parse","list","stringify","getIdGlobal","parseInt","saveIdGlobal","id","getTreeNodeId","saveTreeNodeId","getFormConf","saveFormConf","obj"],"mappings":"AAAA,IAAMA,aAAa,GAAG,cAAtB;AACA,IAAMC,qBAAqB,GAAG,KAA9B;AACA,IAAMC,yBAAyB,GAAG,uBAAlC;AACA,IAAMC,UAAU,GAAG,UAAnB;AACA,IAAMC,YAAY,GAAG,YAArB;AACA,IAAMC,SAAS,GAAG,UAAlB;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC/B;AACA,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqBP,yBAArB,CAAhB;;AACA,MAAIK,OAAO,KAAKN,qBAAhB,EAAuC;AACrCO,IAAAA,YAAY,CAACE,OAAb,CAAqBR,yBAArB,EAAgDD,qBAAhD;AACAU,IAAAA,eAAe,CAAC,EAAD,CAAf;AACA,WAAO,IAAP;AACD;;AAED,MAAMC,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBT,aAArB,CAAZ;AACA,MAAIY,GAAJ,EAAS,OAAOC,IAAI,CAACC,KAAL,CAAWF,GAAX,CAAP;AACT,SAAO,IAAP;AACD;AAED,OAAO,SAASD,eAAT,CAAyBI,IAAzB,EAA+B;AACpCP,EAAAA,YAAY,CAACE,OAAb,CAAqBV,aAArB,EAAoCa,IAAI,CAACG,SAAL,CAAeD,IAAf,CAApC;AACD;AAED,OAAO,SAASE,WAAT,GAAuB;AAC5B,MAAML,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBN,UAArB,CAAZ;AACA,MAAIS,GAAJ,EAAS,OAAOM,QAAQ,CAACN,GAAD,EAAM,EAAN,CAAf;AACT,SAAO,GAAP;AACD;AAED,OAAO,SAASO,YAAT,CAAsBC,EAAtB,EAA0B;AAC/BZ,EAAAA,YAAY,CAACE,OAAb,CAAqBP,UAArB,YAAoCiB,EAApC;AACD;AAED,OAAO,SAASC,aAAT,GAAyB;AAC9B,MAAMT,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBL,YAArB,CAAZ;AACA,MAAIQ,GAAJ,EAAS,OAAOM,QAAQ,CAACN,GAAD,EAAM,EAAN,CAAf;AACT,SAAO,GAAP;AACD;AAED,OAAO,SAASU,cAAT,CAAwBF,EAAxB,EAA4B;AACjCZ,EAAAA,YAAY,CAACE,OAAb,CAAqBN,YAArB,YAAsCgB,EAAtC;AACD;AAED,OAAO,SAASG,WAAT,GAAuB;AAC5B,MAAMX,GAAG,GAAGJ,YAAY,CAACC,OAAb,CAAqBJ,SAArB,CAAZ;AACA,MAAIO,GAAJ,EAAS,OAAOC,IAAI,CAACC,KAAL,CAAWF,GAAX,CAAP;AACT,SAAO,IAAP;AACD;AAED,OAAO,SAASY,YAAT,CAAsBC,GAAtB,EAA2B;AAChCjB,EAAAA,YAAY,CAACE,OAAb,CAAqBL,SAArB,EAAgCQ,IAAI,CAACG,SAAL,CAAeS,GAAf,CAAhC;AACD","sourcesContent":["const DRAWING_ITEMS = 'drawingItems'\nconst DRAWING_ITEMS_VERSION = '1.2'\nconst DRAWING_ITEMS_VERSION_KEY = 'DRAWING_ITEMS_VERSION'\nconst DRAWING_ID = 'idGlobal'\nconst TREE_NODE_ID = 'treeNodeId'\nconst FORM_CONF = 'formConf'\n\nexport function getDrawingList() {\n  // 加入缓存版本的概念，保证缓存数据与程序匹配\n  const version = localStorage.getItem(DRAWING_ITEMS_VERSION_KEY)\n  if (version !== DRAWING_ITEMS_VERSION) {\n    localStorage.setItem(DRAWING_ITEMS_VERSION_KEY, DRAWING_ITEMS_VERSION)\n    saveDrawingList([])\n    return null\n  }\n\n  const str = localStorage.getItem(DRAWING_ITEMS)\n  if (str) return JSON.parse(str)\n  return null\n}\n\nexport function saveDrawingList(list) {\n  localStorage.setItem(DRAWING_ITEMS, JSON.stringify(list))\n}\n\nexport function getIdGlobal() {\n  const str = localStorage.getItem(DRAWING_ID)\n  if (str) return parseInt(str, 10)\n  return 100\n}\n\nexport function saveIdGlobal(id) {\n  localStorage.setItem(DRAWING_ID, `${id}`)\n}\n\nexport function getTreeNodeId() {\n  const str = localStorage.getItem(TREE_NODE_ID)\n  if (str) return parseInt(str, 10)\n  return 100\n}\n\nexport function saveTreeNodeId(id) {\n  localStorage.setItem(TREE_NODE_ID, `${id}`)\n}\n\nexport function getFormConf() {\n  const str = localStorage.getItem(FORM_CONF)\n  if (str) return JSON.parse(str)\n  return null\n}\n\nexport function saveFormConf(obj) {\n  localStorage.setItem(FORM_CONF, JSON.stringify(obj))\n}\n"]}]}